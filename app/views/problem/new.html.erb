<%= render "shared/navbarAdmin" %>

<%= render 'shared/flash_messages' %>

<% if @coding_problem.errors.any? %>
  <div class="alert alert-warning" role="alert">
    <ul>
      <% @coding_problem.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<div class="container mt-5">
  <div class="card">
    <div class="card-body">
      <h3 class="card-title text-center">New Coding Problem</h3>
      <%= form_with model: @coding_problem, url: problem_index_path, method: :post, local: true, html: { multipart: true }, class: "form-signin" do |form| %>
        <div class="form-group mb-3">
          <%= form.label :problem_name %>
          <%= form.text_field :problem_name, class: "form-control", placeholder: "Add two Number", required: true %>
        </div>
        <div class="form-group mb-3">
          <%= form.label :problem_statement %>
          <%= form.text_area :problem_statement, class: "form-control", placeholder: "Given two numbers A and B , print the Sum", required: true %>
        </div>
        <div class="form-group mb-3">
          <%= form.label :sample_input %>
          <%= form.text_area :sample_input, class: "form-control", placeholder: "2 3", required: true %>
        </div>
        <div class="form-group mb-3">
          <%= form.label :sample_output %>
          <%= form.text_area :sample_output, class: "form-control", placeholder: "5", required: true %>
        </div>
        <div class="form-group mb-3">
          <%= form.label :difficulty %>
          <%= form.select :difficulty, CodingProblem.difficulties.keys.map { |w| [w.humanize, w] }, {}, class: "form-control", required: true %>
        </div>
        <div class="form-group mb-3">
          <%= form.label :topic %>
          <%= form.text_field :topic, class: "form-control", placeholder: "Topic", required: true %>
        </div>
        <div class="form-group mb-3">
          <%= form.label :input_file %>
          <%= form.file_field :input_file, class: "form-control-file", required: true %>
        </div>
        <div class="form-group mb-3">
          <%= form.label :expected_output_file %>
          <%= form.file_field :expected_output_file, class: "form-control-file", required: true %>
        </div>
        <%= form.submit "Create", class: "btn btn-primary btn-block mt-3" %>
      <% end %>
    </div>
  </div>
</div>
